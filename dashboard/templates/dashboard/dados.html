{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'dashboard/css/dados.css' %}">
{% endblock %}

{% block content %}

  {% include 'dashboard/header.html' %}

<!-- DECORAÃ‡ÃƒO -->
<div class="decoracao esquerda">
  <img src="{% static 'accounts/img/favo_de_mel.png' %}" alt="Favo Esquerda">
</div>
<div class="decoracao direita">
  <img src="{% static 'accounts/img/favo_de_mel.png' %}" alt="Favo Direita">
</div>

<div class="container-autenticacao">
  <form class="formulario-autenticacao ativo" method="post"
    action="{% if colmeia and colmeia.id %}{% url 'editar_colmeia' colmeia.id %}{% else %}{% url 'nova_colmeia' %}{% endif %}">
    {% csrf_token %}
    <h2>Dados da Colmeia</h2>

    {# ðŸ”¹ Bloco de erros no topo #}
   {% if form.errors %}
      <div class="alert-danger">
          <strong>AtenÃ§Ã£o! Verifique os seguintes erros:</strong>
          <ul>
              {% for field, errors in form.errors.items %}
                  {% for error in errors %}
                      <li>{{ field|capfirst }}: {{ error }}</li>
                  {% endfor %}
              {% endfor %}
          </ul>
      </div>
    {% endif %}

    <div class="campo-formulario">
      <label for="nome">Nome da Colmeia</label>
      <input type="text" id="nome" name="nome" value="{{ colmeia.nome|default_if_none:'' }}" required />
    </div>

    <div class="campo-formulario">
      <label for="temperatura">Temperatura (Â°C)</label>
      <input type="number" id="temperatura" name="temperatura" step="0.01" value="{{ colmeia.temperatura|default_if_none:'' }}" required />
    </div>

    <div class="campo-formulario">
      <label for="peso">Peso (kg)</label>
      <input type="number" id="peso" name="peso" step="0.01" value="{{ colmeia.peso|default_if_none:'' }}" required />
    </div>

    <div class="campo-formulario">
      <label for="umidade">Umidade (%)</label>
      <input type="number" id="umidade" name="umidade" step="0.01" value="{{ colmeia.umidade|default_if_none:'' }}" required />
    </div>

    <button type="submit" class="botao-enviar">
      {% if colmeia and colmeia.id %}Salvar alteraÃ§Ãµes{% else %}Salvar{% endif %}
    </button>
  </form>
</div>

{% endblock %}

{% block scripts %}
<script src="{% static 'dashboard/js/dados.js' %}"></script>
{% endblock %}
